<?php
/**
 * @file
 * Code for the Katakrak Agenda feature.
 */

include_once 'katakrak_agenda.features.inc';

function katakrak_agenda_entity_info_alter(&$entity_info) {
  $entity_info['node']['view modes']['home_event'] = array(
    'label' => t('Home event'),
    'custom settings' => TRUE,
  );
}

/**
* Implements hook_preprocess_node().
*/
function katakrak_agenda_preprocess_node(&$vars) {
  if($vars['view_mode'] == 'home_event') {
    $vars['theme_hook_suggestions'][] = 'node__' . $vars['type'] . '__home_event';
  }
}